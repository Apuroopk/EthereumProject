<!DOCTYPE html>
<html>
<head>
  <title>Simple Wallet - Truffle Webpack Demo w/ Frontend</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <script src="./app.js"></script>
</head>
<body>
  <h1>Simple Wallet</h1>
  <h2>Example Truffle Dapp</h2>

  <p>
    How this works:
    <br />
    The Wallet is running <em>on the blockchain</em> and can hold Ether itself. You can send Ether <em>to the wallet</em> and instruct the wallet <em>to send Ether from it's own balance to somewhere else</em>. But you can only do this, if you are "allowed" to do so.
    <br />
    <br />
    How can you be allowed?<br />
    Either you are the one who deployed the smart contract (owner), or the owner is adding you to the "allowed senders" list.
    <ol>
      <li>Deploy the smart contract => be the owner</li>
      <li>Add another address to the wallet
        <ol>
          <li>
            In MetaMask switch the account
          </li>
          <li>
            Copy the account
          </li>
          <li>
            Switch back to the owner account
          </li>
          <li>
            Run "Allow Sender" with the copied account#2
          </li>
        </ol>
      </li>
      <li>Send Ether <em>to</em> the smart contract (deposit)</li>
      <li>Switch to account#2 in MetaMask, reload the page and instruct the smart contract to send Ether somewhere else (withdrawal)</li>
    </ol>
  </p>
  <h3>Current Balance of Wallet: <span id="walletBalance"></span></h3>
  <h4>Your current account: <span id="currentAccount"></span></h4>
  <h4>You account is <span id="allowedToSend"></span> allowed to send Ether.</h4>
  <h1>Deposit Ether from your Address</h1>
  
  <br><label for="amountDeposit">Amount in Ether:</label><input type="text" id="amountDeposit" placeholder="e.g., 95"></input>
  <br><br><button onclick="App.depositEther()">Deposit Ether from your Address</button>
  <br><br>

  <hr />
  <br>
  <h1>Allow sender</h1>
  <br><label for="addressAllowSender">To Address:</label><input type="text" id="addressAllowSender" placeholder="e.g., 0x93e66d9baea28c17d9fc393b53e3fbdd76899dae"></input>
  <br><br><button id="send" onclick="App.allowSender()">Allow Sender</button>
  <br><br>
  
  <h1>Withdrawal Ether from Smart Contract to Address</h1>
  <br><label for="amountWithdrawal">Amount:</label><input type="text" id="amountWithdrawal" placeholder="e.g., 95"></input>
  <br><label for="addressWithdrawal">To:</label><input type="text" id="addressWithdrawal" placeholder="e.g., 0x93e66d9baea28c17d9fc393b53e3fbdd76899dae"></input>
  <br><br><button onclick="App.withdrawalEther()">Send Ether from Smart Contract To</button>
  <br><br>

  <hr />
  <h2>Status:</h2>
  <br />
  <span id="status"></span>

</body>
</html>
